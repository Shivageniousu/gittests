!function(a){var o;(o=function(s,t){this.$el=a(s),this.end=t.expiryDate,this.interval=t.interval,this.speed=t.speed,this.timer=0,jQuery.isFunction(t.callBack)?this.callBack=t.callBack:this.callBack=null,this.localization={days:"days",hours:"hours",minutes:"minutes",seconds:"seconds"},a.extend(this.localization,this.localization,t.localization)}).prototype={getCounterNumbers:function(){var s={days:{tens:0,units:0,hundreds:0},hours:{tens:0,units:0},minutes:{tens:0,units:0},seconds:{tens:0,units:0}},t=0,i=new Date,n=this.end.getTime()-i.getTime();if(n<=0)return s;var e=Math.min(Math.floor(n/864e5),999);t=n%864e5,s.days.hundreds=Math.floor(e/100);var a=e%100;s.days.tens=Math.floor(a/10),s.days.units=a%10;var o=Math.floor(t/36e5);t%=36e5,s.hours.tens=Math.floor(o/10),s.hours.units=o%10;var d=Math.floor(t/6e4);t%=6e4,s.minutes.tens=Math.floor(d/10),s.minutes.units=d%10;var r=Math.floor(t/1e3);return s.seconds.tens=Math.floor(r/10),s.seconds.units=r%10,s},updatePart:function(s){var t=this.getCounterNumbers(),i=a("."+s,this.$el);if("days"==s&&(this.setDayHundreds(0<t.days.hundreds),i.find(".number.hundreds.show").html()!=t[s].hundreds)){var n=a(".n1.hundreds",i),e=a(".n2.hundreds",i);this.scrollNumber(n,e,t[s].hundreds)}i.find(".number.tens.show").html()!=t[s].tens&&(n=a(".n1.tens",i),e=a(".n2.tens",i),this.scrollNumber(n,e,t[s].tens)),i.find(".number.units.show").html()!=t[s].units&&(n=a(".n1.units",i),e=a(".n2.units",i),this.scrollNumber(n,e,t[s].units))},timeOut:function(){var s=new Date;return this.end.getTime()-s.getTime()<=0},setDayHundreds:function(s){s?a(".counter.days",this.$el).addClass("with-hundreds"):a(".counter.days",this.$el).removeClass("with-hundreds")},updateCounter:function(){this.updatePart("days"),this.updatePart("hours"),this.updatePart("minutes"),this.updatePart("seconds"),this.timeOut()&&(this.stop(),this.callBack&&this.callBack(this))},localize:function(s){a.isPlainObject(s)&&a.extend(this.localization,this.localization,s),a(".days",this.$el).siblings(".counter-caption").text(this.localization.days),a(".hours",this.$el).siblings(".counter-caption").text(this.localization.hours),a(".minutes",this.$el).siblings(".counter-caption").text(this.localization.minutes),a(".seconds",this.$el).siblings(".counter-caption").text(this.localization.seconds)},start:function(s){var t=this;t.stop(),0==t.timer&&(t.timer=setInterval(function(){t.updateCounter()},t.interval)),t.updateCounter()},stop:function(){0<this.timer&&(clearInterval(this.timer),this.timer=0)},scrollNumber:function(s,t,i){s.hasClass("show")?(t.removeClass("hidden-down").css("top","-100%").text(i).stop().animate({top:0},this.speed,function(){t.addClass("show")}),s.stop().animate({top:"100%"},this.speed,function(){s.removeClass("show").addClass("hidden-down")})):(s.removeClass("hidden-down").css("top","-100%").text(i).stop().animate({top:0},this.speed,function(){s.addClass("show")}),t.stop().animate({top:"100%"},this.speed,function(){t.removeClass("show").addClass("hidden-down")}))}},jQuery.fn.mbComingsoon=function(i){var n={interval:1e3,callBack:null,localization:{days:"days",hours:"hours",minutes:"minutes",seconds:"seconds"},speed:500},e={};return this.each(function(){var s=a(this),t=s.data("mbComingsoon");if(void 0===t){if(i instanceof Date?e.expiryDate=i:a.isPlainObject(i)?a.extend(e,n,i):"string"==typeof i&&(e.expiryDate=new Date(i)),!e.expiryDate)throw new Error("Expiry date is required!");t=new o(s,e),s.data("mbComingsoon",t),s.html('   <div class="counter-group" id="myCounter">       <div class="counter-block">           <div class="counter days">               <div class="number show n1 hundreds">0</div>               <div class="number show n1 tens">0</div>               <div class="number show n1 units">0</div>               <div class="number hidden-up n2 hundreds">0</div>               <div class="number hidden-up n2 tens">0</div>               <div class="number hidden-up n2 units">0</div>           </div>           <div class="counter-caption">days</div>       </div>       <div class="counter-block">           <div class="counter hours">               <div class="number show n1 tens">0</div>               <div class="number show n1 units">0</div>               <div class="number hidden-up n2 tens">0</div>               <div class="number hidden-up n2 units">0</div>           </div>           <div class="counter-caption">hours</div>       </div>       <div class="counter-block">           <div class="counter minutes">               <div class="number show n1 tens">0</div>               <div class="number show n1 units">0</div>               <div class="number hidden-up n2 tens">0</div>               <div class="number hidden-up n2 units">0</div>           </div>           <div class="counter-caption">minutes</div>       </div>       <div class="counter-block">           <div class="counter seconds">               <div class="number show n1 tens">0</div>               <div class="number show n1 units">0</div>               <div class="number hidden-up n2 tens">0</div>               <div class="number hidden-up n2 units">0</div>           </div>           <div class="counter-caption">seconds</div>       </div>   </div>'),t.localize(),t.start()}else"start"==i?t.start():"stop"==i?t.stop():a.isPlainObject(i)&&(i.expiryDate instanceof Date&&(t.end=i.expiryDate),a.isNumeric(i.interval)&&(t.interval=i.interval),a.isFunction(i.callBack)&&(t.callBack=i.callBack),a.isPlainObject(i.localization)&&this.localize(i.localization),t.start())})}}(jQuery);